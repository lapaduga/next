{"version":3,"names":[],"mappings":"","sources":["index.js"],"sourcesContent":["'use strict';\n\n// popup\nvar popupLinks = document.querySelectorAll('.popup-link');\nvar body = document.querySelector('body');\nvar lockPadding = document.querySelectorAll('.lock-padding');\n\nvar unlock = true;\n\nvar timeout = 400;\n\nif (popupLinks.length > 0) {\n\tvar _loop = function _loop(index) {\n\t\tvar popupLink = popupLinks[index];\n\t\tpopupLink.addEventListener(\"click\", function (e) {\n\t\t\tvar popupName = popupLink.getAttribute('href').replace('#', '');\n\t\t\tvar currentPopup = document.getElementById(popupName);\n\t\t\tpopupOpen(currentPopup);\n\t\t\te.preventDefault();\n\t\t});\n\t};\n\n\tfor (var index = 0; index < popupLinks.length; index++) {\n\t\t_loop(index);\n\t}\n}\nvar popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n\tvar _loop2 = function _loop2(index) {\n\t\tvar el = popupCloseIcon[index];\n\t\tel.addEventListener('click', function (e) {\n\t\t\tpopupClose(el.closest('.popup'));\n\t\t\te.preventDefault();\n\t\t});\n\t};\n\n\tfor (var index = 0; index < popupCloseIcon.length; index++) {\n\t\t_loop2(index);\n\t}\n}\nfunction popupOpen(currentPopup) {\n\tif (currentPopup && unlock) {\n\t\tvar popupActive = document.querySelector('.popup.open');\n\t\tif (popupActive) {\n\t\t\tpopupClose(popupActive, false);\n\t\t} else {\n\t\t\tbodyLock();\n\t\t}\n\t\tcurrentPopup.classList.add('open');\n\t\tcurrentPopup.addEventListener('click', function (e) {\n\t\t\tif (!e.target.closest('.popup__content')) {\n\t\t\t\tpopupClose(e.target.closest('.popup'));\n\t\t\t}\n\t\t});\n\t}\n}\nfunction popupClose(popupActive) {\n\tvar doUnlock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\tif (unlock) {\n\t\tpopupActive.classList.remove('open');\n\t\tif (doUnlock) {\n\t\t\tbodyUnlock();\n\t\t}\n\t}\n}\n\nfunction bodyLock() {\n\tvar lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\n\n\tif (lockPadding.length > 0) {\n\t\tfor (var index = 0; index < lockPadding.length; index++) {\n\t\t\tvar _el = lockPadding[index];\n\t\t\t_el.style.paddingRight = lockPaddingValue;\n\t\t}\n\t}\n\tbody.style.paddingRight = lockPaddingValue;\n\tbody.classList.add('lock');\n\n\tunlock = false;\n\tsetTimeout(function () {\n\t\tunlock = true;\n\t}, timeout);\n}\n\nfunction bodyUnlock() {\n\tsetTimeout(function () {\n\t\tif (lockPadding.length > 0) {\n\t\t\tfor (var index = 0; index < lockPadding.length; index++) {\n\t\t\t\tvar _el2 = lockPadding[index];\n\t\t\t\t_el2.style.paddingRight = '0px';\n\t\t\t}\n\t\t}\n\t\tbody.style.paddingRight = '0px';\n\t\tbody.classList.remove('lock');\n\t}, timeout);\n\n\tunlock = false;\n\tsetTimeout(function () {\n\t\tunlock = true;\n\t}, timeout);\n}\n\ndocument.addEventListener('keydown', function (e) {\n\tif (e.which === 27) {\n\t\tvar popupActive = document.querySelector('.popup.open');\n\t\tpopupClose(popupActive);\n\t}\n});\n\n(function () {\n\tif (!Element.prototype.closest) {\n\t\tElement.prototype.closest = function (css) {\n\t\t\tvar node = this;\n\t\t\twhile (node) {\n\t\t\t\tif (node.matches(css)) return node;else node = node.parentElement;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t}\n})();\n\n(function () {\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector;\n\t}\n})();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\t// input mask\n\t$(\"#request-phone\").mask(\"+7 (999) 999-99-99\");\n\t$(\"#popup-phone\").mask(\"+7 (999) 999-99-99\");\n\t$(\"#callback-phone\").mask(\"+7 (999) 999-99-99\");\n\n\t// smooth scroll\n\t$(\".mainscreen__button\").on('click', function (e) {\n\t\tvar fixed_offset = -150;\n\t\t$('html,body').stop().animate({ scrollTop: $(this.hash).offset().top - fixed_offset }, 1000);\n\t\te.preventDefault();\n\t});\n\n\t// parallax\n\t$('.parallax__list>li').addClass('layer');\n\t$('.parallax__list').parallax();\n});\n// map\nfunction initMap() {\n\n\tvar options = {\n\t\tcenter: { lat: 55.189241031789926, lng: 61.43007247523924 },\n\t\tzoom: 17\n\t};\n\n\tvar map = new google.maps.Map(document.getElementById('contacts__map'), options);\n\n\tvar marker = new google.maps.Marker({\n\t\tposition: { lat: 55.189241031789926, lng: 61.43007247523924 },\n\t\tmap: map,\n\t\ticon: \"./template/images/mark.webp\"\n\t});\n}\n\n// Обратный звонок и специальное предложение \n$('#request__form').on('submit', function (e) {\n\te.preventDefault();\n\n\tif ($('#request-name').val() === '') {\n\t\t$('#request-name').addClass('_error');\n\t\t$('#request-name').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#request-name').removeClass('_error');\n\t\t$('#request-name').attr(\"placeholder\", \"Имя Фамилия Отчество\");\n\t}\n\tif ($('#request-phone').val() === '') {\n\t\t$('#request-phone').addClass('_error');\n\t\t$('#request-phone').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#request-phone').removeClass('_error');\n\t\t$('#request-phone').attr(\"placeholder\", \"+7 (___) ___-__-__\");\n\t}\n\tif ($('#request-email').val() === '') {\n\t\t$('#request-email').addClass('_error');\n\t\t$('#request-email').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#request-email').removeClass('_error');\n\t\t$('#request-email').attr(\"placeholder\", \"Ваш e-mail\");\n\t}\n\n\t//берем из формы метод передачи данных\n\tvar m_method = $(this).attr('method');\n\tvar m_action = $(this).attr('action');\n\tvar m_data = $(this).serialize();\n\t$('.request__form').addClass('_sending');\n\t$('#thx').fadeIn();\n\t$.ajax({\n\t\ttype: m_method,\n\t\turl: m_action,\n\t\tdata: m_data,\n\t\tresetForm: 'true',\n\t\tsuccess: function success(result) {\n\t\t\t$('.request__form').removeClass('_sending');\n\t\t\t//$('#thx').addClass('open');\n\t\t\tsetTimeout(function () {\n\t\t\t\t//$('#thx').removeClass('open');\n\t\t\t\t$('#request__form')[0].reset();\n\t\t\t}, 2000);\n\t\t}\n\t});\n});\n\n$('#popup__form').on('submit', function (e) {\n\te.preventDefault();\n\n\tif ($('#popup-name').val() === '') {\n\t\t$('#popup-name').addClass('_error');\n\t\t$('#popup-name').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#popup-name').removeClass('_error');\n\t\t$('#popup-name').attr(\"placeholder\", \"Имя Фамилия Отчество\");\n\t}\n\tif ($('#popup-phone').val() === '') {\n\t\t$('#popup-phone').addClass('_error');\n\t\t$('#popup-phone').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#popup-phone').removeClass('_error');\n\t\t$('#popup-phone').attr(\"placeholder\", \"+7 (___) ___-__-__\");\n\t}\n\tif ($('#popup-email').val() === '') {\n\t\t$('#popup-email').addClass('_error');\n\t\t$('#popup-email').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#popup-email').removeClass('_error');\n\t\t$('#popup-email').attr(\"placeholder\", \"Ваш e-mail\");\n\t}\n\n\tvar m_method = $(this).attr('method');\n\tvar m_action = $(this).attr('action');\n\tvar m_data = $(this).serialize();\n\t$('#popup').addClass('_sending');\n\t$('#thx').fadeIn();\n\t$.ajax({\n\t\ttype: m_method,\n\t\turl: m_action,\n\t\tdata: m_data,\n\t\tresetForm: 'true',\n\t\tsuccess: function success(result) {\n\t\t\t$('#popup').removeClass('_sending');\n\t\t\t//$('#thx').addClass('open');\n\t\t\tsetTimeout(function () {\n\t\t\t\t//$('#thx').removeClass('open');\n\t\t\t\t$('#popup__form')[0].reset();\n\t\t\t}, 2000);\n\t\t}\n\t});\n});\n\n$('#callback__form').on('submit', function (e) {\n\te.preventDefault();\n\n\tif ($('#callback-name').val() === '') {\n\t\t$('#callback-name').addClass('_error');\n\t\t$('#callback-name').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#callback-name').removeClass('_error');\n\t\t$('#callback-name').attr(\"placeholder\", \"Имя Фамилия Отчество\");\n\t}\n\tif ($('#callback-phone').val() === '') {\n\t\t$('#callback-phone').addClass('_error');\n\t\t$('#callback-phone').attr(\"placeholder\", \"Ошибка заполнения\");\n\t} else {\n\t\t$('#callback-phone').removeClass('_error');\n\t\t$('#callback-phone').attr(\"placeholder\", \"+7 (___) ___-__-__\");\n\t}\n\n\tvar m_method = $(this).attr('method');\n\tvar m_action = $(this).attr('action');\n\tvar m_data = $(this).serialize();\n\t$('#callback').addClass('_sending');\n\t//$('#thx').fadeIn();\n\t$.ajax({\n\t\ttype: m_method,\n\t\turl: m_action,\n\t\tdata: m_data,\n\t\tresetForm: 'true',\n\t\tsuccess: function success(result) {\n\t\t\t$('#callback').removeClass('_sending');\n\t\t\t//$('#thx').addClass('open');\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('#thx').removeClass('open');\n\t\t\t\t$('#callback__form')[0].reset();\n\t\t\t}, 2000);\n\t\t}\n\t});\n});\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*\n    jQuery Masked Input Plugin\n    Copyright (c) 2007 - 2015 Josh Bush (digitalbush.com)\n    Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)\n    Version: 1.4.1\n*/\n!function (a) {\n    \"function\" == typeof define && define.amd ? define([\"jquery\"], a) : a(\"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? require(\"jquery\") : jQuery);\n}(function (a) {\n    var b,\n        c = navigator.userAgent,\n        d = /iphone/i.test(c),\n        e = /chrome/i.test(c),\n        f = /android/i.test(c);a.mask = { definitions: { 9: \"[0-9]\", a: \"[A-Za-z]\", \"*\": \"[A-Za-z0-9]\" }, autoclear: !0, dataName: \"rawMaskFn\", placeholder: \"_\" }, a.fn.extend({ caret: function caret(a, b) {\n            var c;if (0 !== this.length && !this.is(\":hidden\")) return \"number\" == typeof a ? (b = \"number\" == typeof b ? b : a, this.each(function () {\n                this.setSelectionRange ? this.setSelectionRange(a, b) : this.createTextRange && (c = this.createTextRange(), c.collapse(!0), c.moveEnd(\"character\", b), c.moveStart(\"character\", a), c.select());\n            })) : (this[0].setSelectionRange ? (a = this[0].selectionStart, b = this[0].selectionEnd) : document.selection && document.selection.createRange && (c = document.selection.createRange(), a = 0 - c.duplicate().moveStart(\"character\", -1e5), b = a + c.text.length), { begin: a, end: b });\n        }, unmask: function unmask() {\n            return this.trigger(\"unmask\");\n        }, mask: function mask(c, g) {\n            var h, i, j, k, l, m, n, o;if (!c && this.length > 0) {\n                h = a(this[0]);var p = h.data(a.mask.dataName);return p ? p() : void 0;\n            }return g = a.extend({ autoclear: a.mask.autoclear, placeholder: a.mask.placeholder, completed: null }, g), i = a.mask.definitions, j = [], k = n = c.length, l = null, a.each(c.split(\"\"), function (a, b) {\n                \"?\" == b ? (n--, k = a) : i[b] ? (j.push(new RegExp(i[b])), null === l && (l = j.length - 1), k > a && (m = j.length - 1)) : j.push(null);\n            }), this.trigger(\"unmask\").each(function () {\n                function h() {\n                    if (g.completed) {\n                        for (var a = l; m >= a; a++) {\n                            if (j[a] && C[a] === p(a)) return;\n                        }g.completed.call(B);\n                    }\n                }function p(a) {\n                    return g.placeholder.charAt(a < g.placeholder.length ? a : 0);\n                }function q(a) {\n                    for (; ++a < n && !j[a];) {}return a;\n                }function r(a) {\n                    for (; --a >= 0 && !j[a];) {}return a;\n                }function s(a, b) {\n                    var c, d;if (!(0 > a)) {\n                        for (c = a, d = q(b); n > c; c++) {\n                            if (j[c]) {\n                                if (!(n > d && j[c].test(C[d]))) break;C[c] = C[d], C[d] = p(d), d = q(d);\n                            }\n                        }z(), B.caret(Math.max(l, a));\n                    }\n                }function t(a) {\n                    var b, c, d, e;for (b = a, c = p(a); n > b; b++) {\n                        if (j[b]) {\n                            if (d = q(b), e = C[b], C[b] = c, !(n > d && j[d].test(e))) break;c = e;\n                        }\n                    }\n                }function u() {\n                    var a = B.val(),\n                        b = B.caret();if (o && o.length && o.length > a.length) {\n                        for (A(!0); b.begin > 0 && !j[b.begin - 1];) {\n                            b.begin--;\n                        }if (0 === b.begin) for (; b.begin < l && !j[b.begin];) {\n                            b.begin++;\n                        }B.caret(b.begin, b.begin);\n                    } else {\n                        for (A(!0); b.begin < n && !j[b.begin];) {\n                            b.begin++;\n                        }B.caret(b.begin, b.begin);\n                    }h();\n                }function v() {\n                    A(), B.val() != E && B.change();\n                }function w(a) {\n                    if (!B.prop(\"readonly\")) {\n                        var b,\n                            c,\n                            e,\n                            f = a.which || a.keyCode;o = B.val(), 8 === f || 46 === f || d && 127 === f ? (b = B.caret(), c = b.begin, e = b.end, e - c === 0 && (c = 46 !== f ? r(c) : e = q(c - 1), e = 46 === f ? q(e) : e), y(c, e), s(c, e - 1), a.preventDefault()) : 13 === f ? v.call(this, a) : 27 === f && (B.val(E), B.caret(0, A()), a.preventDefault());\n                    }\n                }function x(b) {\n                    if (!B.prop(\"readonly\")) {\n                        var c,\n                            d,\n                            e,\n                            g = b.which || b.keyCode,\n                            i = B.caret();if (!(b.ctrlKey || b.altKey || b.metaKey || 32 > g) && g && 13 !== g) {\n                            if (i.end - i.begin !== 0 && (y(i.begin, i.end), s(i.begin, i.end - 1)), c = q(i.begin - 1), n > c && (d = String.fromCharCode(g), j[c].test(d))) {\n                                if (t(c), C[c] = d, z(), e = q(c), f) {\n                                    var k = function k() {\n                                        a.proxy(a.fn.caret, B, e)();\n                                    };setTimeout(k, 0);\n                                } else B.caret(e);i.begin <= m && h();\n                            }b.preventDefault();\n                        }\n                    }\n                }function y(a, b) {\n                    var c;for (c = a; b > c && n > c; c++) {\n                        j[c] && (C[c] = p(c));\n                    }\n                }function z() {\n                    B.val(C.join(\"\"));\n                }function A(a) {\n                    var b,\n                        c,\n                        d,\n                        e = B.val(),\n                        f = -1;for (b = 0, d = 0; n > b; b++) {\n                        if (j[b]) {\n                            for (C[b] = p(b); d++ < e.length;) {\n                                if (c = e.charAt(d - 1), j[b].test(c)) {\n                                    C[b] = c, f = b;break;\n                                }\n                            }if (d > e.length) {\n                                y(b + 1, n);break;\n                            }\n                        } else C[b] === e.charAt(d) && d++, k > b && (f = b);\n                    }return a ? z() : k > f + 1 ? g.autoclear || C.join(\"\") === D ? (B.val() && B.val(\"\"), y(0, n)) : z() : (z(), B.val(B.val().substring(0, f + 1))), k ? b : l;\n                }var B = a(this),\n                    C = a.map(c.split(\"\"), function (a, b) {\n                    return \"?\" != a ? i[a] ? p(b) : a : void 0;\n                }),\n                    D = C.join(\"\"),\n                    E = B.val();B.data(a.mask.dataName, function () {\n                    return a.map(C, function (a, b) {\n                        return j[b] && a != p(b) ? a : null;\n                    }).join(\"\");\n                }), B.one(\"unmask\", function () {\n                    B.off(\".mask\").removeData(a.mask.dataName);\n                }).on(\"focus.mask\", function () {\n                    if (!B.prop(\"readonly\")) {\n                        clearTimeout(b);var a;E = B.val(), a = A(), b = setTimeout(function () {\n                            B.get(0) === document.activeElement && (z(), a == c.replace(\"?\", \"\").length ? B.caret(0, a) : B.caret(a));\n                        }, 10);\n                    }\n                }).on(\"blur.mask\", v).on(\"keydown.mask\", w).on(\"keypress.mask\", x).on(\"input.mask paste.mask\", function () {\n                    B.prop(\"readonly\") || setTimeout(function () {\n                        var a = A(!0);B.caret(a), h();\n                    }, 0);\n                }), e && f && B.off(\"input.mask\").on(\"input.mask\", u), A();\n            });\n        } });\n});\n\"use strict\";\n\n!function (T, y, u, d) {\n  \"use strict\";\n  function a(t, i) {\n    this.element = t, this.$context = T(t).data(\"api\", this), this.$layers = this.$context.find(\".layer\");var e = { calibrateX: this.$context.data(\"calibrate-x\") || null, calibrateY: this.$context.data(\"calibrate-y\") || null, invertX: this.$context.data(\"invert-x\") || null, invertY: this.$context.data(\"invert-y\") || null, limitX: parseFloat(this.$context.data(\"limit-x\")) || null, limitY: parseFloat(this.$context.data(\"limit-y\")) || null, scalarX: parseFloat(this.$context.data(\"scalar-x\")) || null, scalarY: parseFloat(this.$context.data(\"scalar-y\")) || null, frictionX: parseFloat(this.$context.data(\"friction-x\")) || null, frictionY: parseFloat(this.$context.data(\"friction-y\")) || null, originX: parseFloat(this.$context.data(\"origin-x\")) || null, originY: parseFloat(this.$context.data(\"origin-y\")) || null };for (var s in e) {\n      null === e[s] && delete e[s];\n    }T.extend(this, r, i, e), this.calibrationTimer = null, this.calibrationFlag = !0, this.enabled = !1, this.depths = [], this.raf = null, this.bounds = null, this.ex = 0, this.ey = 0, this.ew = 0, this.eh = 0, this.ecx = 0, this.ecy = 0, this.erx = 0, this.ery = 0, this.cx = 0, this.cy = 0, this.ix = 0, this.iy = 0, this.mx = 0, this.my = 0, this.vx = 0, this.vy = 0, this.onMouseMove = this.onMouseMove.bind(this), this.onDeviceOrientation = this.onDeviceOrientation.bind(this), this.onOrientationTimer = this.onOrientationTimer.bind(this), this.onCalibrationTimer = this.onCalibrationTimer.bind(this), this.onAnimationFrame = this.onAnimationFrame.bind(this), this.onWindowResize = this.onWindowResize.bind(this), this.initialise();\n  }var o = \"parallax\",\n      r = { relativeInput: !1, clipRelativeInput: !1, calibrationThreshold: 100, calibrationDelay: 500, supportDelay: 500, calibrateX: !1, calibrateY: !0, invertX: !0, invertY: !0, limitX: !1, limitY: !1, scalarX: 10, scalarY: 10, frictionX: .1, frictionY: .1, originX: .5, originY: .5, type: [\"translate\"] };a.prototype.transformSupport = function (t) {\n    for (var i = u.createElement(\"div\"), e = !1, s = null, a = !1, o = null, r = null, n = 0, h = this.vendors.length; n < h; n++) {\n      if (null !== this.vendors[n] ? (o = this.vendors[n][0] + \"transform\", r = this.vendors[n][1] + \"Transform\") : r = o = \"transform\", i.style[r] !== d) {\n        e = !0;break;\n      }\n    }switch (t) {case \"2D\":\n        a = e;break;case \"3D\":\n        if (e) {\n          var l = u.body || u.createElement(\"body\"),\n              p = u.documentElement,\n              c = p.style.overflow;u.body || (p.style.overflow = \"hidden\", p.appendChild(l), l.style.overflow = \"hidden\", l.style.background = \"\"), l.appendChild(i), i.style[r] = \"translate3d(1px,1px,1px)\", a = (s = y.getComputedStyle(i).getPropertyValue(o)) !== d && 0 < s.length && \"none\" !== s, p.style.overflow = c, l.removeChild(i);\n        }}return a;\n  }, a.prototype.ww = null, a.prototype.wh = null, a.prototype.wcx = null, a.prototype.wcy = null, a.prototype.wrx = null, a.prototype.wry = null, a.prototype.portrait = null, a.prototype.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i), a.prototype.vendors = [null, [\"-webkit-\", \"webkit\"], [\"-moz-\", \"Moz\"], [\"-o-\", \"O\"], [\"-ms-\", \"ms\"]], a.prototype.motionSupport = !!y.DeviceMotionEvent, a.prototype.orientationSupport = !!y.DeviceOrientationEvent, a.prototype.orientationStatus = 0, a.prototype.transform2DSupport = a.prototype.transformSupport(\"2D\"), a.prototype.transform3DSupport = a.prototype.transformSupport(\"3D\"), a.prototype.propertyCache = {}, a.prototype.initialise = function () {\n    this.accelerate(this.$context), this.updateLayers(), this.updateDimensions(), this.enable(), this.queueCalibration(this.calibrationDelay);\n  }, a.prototype.updateLayers = function () {\n    this.$layers = this.$context.find(\".layer\"), this.depths = [], this.accelerate(this.$layers), this.$layers.each(T.proxy(function (t, i) {\n      this.depths.push(T(i).data(\"depth\") || 0);\n    }, this));\n  }, a.prototype.updateDimensions = function () {\n    this.ww = y.innerWidth, this.wh = y.innerHeight, this.wcx = this.ww * this.originX, this.wcy = this.wh * this.originY, this.wrx = Math.max(this.wcx, this.ww - this.wcx), this.wry = Math.max(this.wcy, this.wh - this.wcy);\n  }, a.prototype.updateBounds = function () {\n    this.bounds = this.element.getBoundingClientRect(), this.ex = this.bounds.left, this.ey = this.bounds.top, this.ew = this.bounds.width, this.eh = this.bounds.height, this.ecx = this.ew * this.originX, this.ecy = this.eh * this.originY, this.erx = Math.max(this.ecx, this.ew - this.ecx), this.ery = Math.max(this.ecy, this.eh - this.ecy);\n  }, a.prototype.queueCalibration = function (t) {\n    clearTimeout(this.calibrationTimer), this.calibrationTimer = setTimeout(this.onCalibrationTimer, t);\n  }, a.prototype.enable = function () {\n    this.enabled || (this.enabled = !0, this.orientationSupport ? (this.portrait = null, y.addEventListener(\"deviceorientation\", this.onDeviceOrientation), setTimeout(this.onOrientationTimer, this.supportDelay)) : (this.cx = 0, this.cy = 0, this.portrait = !1, y.addEventListener(\"mousemove\", this.onMouseMove)), y.addEventListener(\"resize\", this.onWindowResize), this.raf = requestAnimationFrame(this.onAnimationFrame));\n  }, a.prototype.disable = function () {\n    this.enabled && (this.enabled = !1, this.orientationSupport ? y.removeEventListener(\"deviceorientation\", this.onDeviceOrientation) : y.removeEventListener(\"mousemove\", this.onMouseMove), y.removeEventListener(\"resize\", this.onWindowResize), cancelAnimationFrame(this.raf));\n  }, a.prototype.calibrate = function (t, i) {\n    this.calibrateX = t === d ? this.calibrateX : t, this.calibrateY = i === d ? this.calibrateY : i;\n  }, a.prototype.invert = function (t, i) {\n    this.invertX = t === d ? this.invertX : t, this.invertY = i === d ? this.invertY : i;\n  }, a.prototype.friction = function (t, i) {\n    this.frictionX = t === d ? this.frictionX : t, this.frictionY = i === d ? this.frictionY : i;\n  }, a.prototype.scalar = function (t, i) {\n    this.scalarX = t === d ? this.scalarX : t, this.scalarY = i === d ? this.scalarY : i;\n  }, a.prototype.limit = function (t, i) {\n    this.limitX = t === d ? this.limitX : t, this.limitY = i === d ? this.limitY : i;\n  }, a.prototype.origin = function (t, i) {\n    this.originX = t === d ? this.originX : t, this.originY = i === d ? this.originY : i;\n  }, a.prototype.clamp = function (t, i, e) {\n    return t = Math.max(t, i), t = Math.min(t, e);\n  }, a.prototype.css = function (t, i, e) {\n    var s = this.propertyCache[i];if (!s) for (var a = 0, o = this.vendors.length; a < o; a++) {\n      if (s = null !== this.vendors[a] ? T.camelCase(this.vendors[a][1] + \"-\" + i) : i, t.style[s] !== d) {\n        this.propertyCache[i] = s;break;\n      }\n    }t.style[s] = e;\n  }, a.prototype.accelerate = function (t) {\n    for (var i = 0, e = t.length; i < e; i++) {\n      var s = t[i];this.css(s, \"transform\", \"translate3d(0,0,0)\"), this.css(s, \"transform-style\", \"preserve-3d\"), this.css(s, \"backface-visibility\", \"hidden\");\n    }\n  }, a.prototype.setPosition = function (i, e, s) {\n    var a = this,\n        t = T(i).data(\"translate-calibration\") || 1,\n        o = T(i).data(\"rotate-calibration\") || 1,\n        r = T(i).data(\"scale-calibration\") || 1,\n        n = T(i).data(\"grayscale-calibration\") || 1,\n        h = T(i).data(\"blur-calibration\") || 1,\n        l = T(i).data(\"brightness-calibration\") || 1,\n        p = (T(i).data(\"contrast-calibration\"), T(i).data(\"hue-rotate-calibration\") || 1),\n        c = T(i).data(\"opacity-calibration\") || 1,\n        y = T(i).data(\"saturate-calibration\") || 1,\n        u = T(i).data(\"sepia-calibration\") || 1,\n        d = T(i).data(\"skewX-calibration\") || 1,\n        m = (T(i).data(\"skewX-calibration\"), T(i).data(\"perspective\") || 0),\n        b = (e + s) * o / 2 + \"deg\",\n        v = 1 + (e + s) * r / 2,\n        f = (e + s) * d / 2 + \"deg\",\n        x = 100 - (e + s) * n / 2 + \"%\",\n        w = Math.max((e + s) * h / 2, 0) + \"px\",\n        g = 100 - (e + s) * l / 2 + \"%\",\n        X = (e + s) * p / 2 + \"deg\",\n        Y = 1 - (e + s) * c / 200,\n        M = 100 - (e + s) * y / 2 + \"%\",\n        D = 100 - (e + s) * u / 2 + \"%\";e = e * t + \"px\", s = s * t + \"px\";var F = \"\",\n        $ = \"\",\n        S = T(i).data(\"parallax-type\") || \"\";if (0 < S.length) var k = S.split(\",\");else k = this.type;k.forEach(function (t) {\n      \"translate\" == (t = t.trim()) && (a.transform3DSupport ? F = F + \"translate3d(\" + e + \",\" + s + \",0) \" : a.transform2DSupport ? F = F + \"translate(\" + e + \",\" + s + \") \" : (i.style.left = e, i.style.top = s)), \"rotate\" == t && (F = a.transform3DSupport ? F + \"rotate3d(0, 0, 1, \" + b + \") \" : F + \"rotate(\" + b + \") \"), \"rotateX\" == t && (F = F + \"rotateX(\" + b + \") \"), \"rotateY\" == t && (F = F + \"rotateY(\" + b + \") \"), \"scale\" == t && (F = a.transform3DSupport ? F + \"scale3d(\" + v + \", \" + v + \", 1) \" : F + \"scale(\" + v + \") \"), \"skewX\" == t && (F = F + \"skewX(\" + f + \") \"), \"skewY\" == t && (F = F + \"skewX(\" + f + \") \"), \"grayscale\" == t && ($ = $ + \"grayscale(\" + x + \") \"), \"blur\" == t && ($ = $ + \"blur(\" + w + \") \"), \"brightness\" == t && ($ = $ + \"brightness(\" + g + \") \"), \"contrast\" == t && ($ = $ + \"contrast(\" + g + \") \"), \"hue-rotate\" == t && ($ = $ + \"hue-rotate(\" + X + \") \"), \"saturate\" == t && ($ = $ + \"saturate(\" + M + \") \"), \"sepia\" == t && ($ = $ + \"sepia(\" + D + \") \"), \"opacity\" == t && (i.style.opacity = Y), \"perspective\" == t && (F = F + \"perspective(\" + m + \") \");\n    }), this.css(i, \"-webkit-transform\", F), this.css(i, \"transform\", F), this.css(i, \"-moz-filter\", $), this.css(i, \"-webkit-filter\", $), this.css(i, \"filter\", $);\n  }, a.prototype.onOrientationTimer = function (t) {\n    this.orientationSupport && 0 === this.orientationStatus && (this.disable(), this.orientationSupport = !1, this.enable());\n  }, a.prototype.onCalibrationTimer = function (t) {\n    this.calibrationFlag = !0;\n  }, a.prototype.onWindowResize = function (t) {\n    this.updateDimensions();\n  }, a.prototype.onAnimationFrame = function () {\n    this.updateBounds();var t = this.ix - this.cx,\n        i = this.iy - this.cy;(Math.abs(t) > this.calibrationThreshold || Math.abs(i) > this.calibrationThreshold) && this.queueCalibration(0), this.portrait ? (this.mx = this.calibrateX ? i : this.iy, this.my = this.calibrateY ? t : this.ix) : (this.mx = this.calibrateX ? t : this.ix, this.my = this.calibrateY ? i : this.iy), this.mx *= this.ew * (this.scalarX / 100), this.my *= this.eh * (this.scalarY / 100), isNaN(parseFloat(this.limitX)) || (this.mx = this.clamp(this.mx, -this.limitX, this.limitX)), isNaN(parseFloat(this.limitY)) || (this.my = this.clamp(this.my, -this.limitY, this.limitY)), this.vx += (this.mx - this.vx) * this.frictionX, this.vy += (this.my - this.vy) * this.frictionY;for (var e = 0, s = this.$layers.length; e < s; e++) {\n      var a = this.depths[e],\n          o = this.$layers[e],\n          r = this.vx * a * (this.invertX ? -1 : 1),\n          n = this.vy * a * (this.invertY ? -1 : 1);this.setPosition(o, r, n);\n    }this.raf = requestAnimationFrame(this.onAnimationFrame);\n  }, a.prototype.onDeviceOrientation = function (t) {\n    if (!this.desktop && null !== t.beta && null !== t.gamma) {\n      this.orientationStatus = 1;var i = (t.beta || 0) / 30,\n          e = (t.gamma || 0) / 30,\n          s = y.innerHeight > y.innerWidth;this.portrait !== s && (this.portrait = s, this.calibrationFlag = !0), this.calibrationFlag && (this.calibrationFlag = !1, this.cx = i, this.cy = e), this.ix = i, this.iy = e;\n    }\n  }, a.prototype.onMouseMove = function (t) {\n    var i = t.clientX,\n        e = t.clientY;!this.orientationSupport && this.relativeInput ? (this.clipRelativeInput && (i = Math.max(i, this.ex), i = Math.min(i, this.ex + this.ew), e = Math.max(e, this.ey), e = Math.min(e, this.ey + this.eh)), this.ix = (i - this.ex - this.ecx) / this.erx, this.iy = (e - this.ey - this.ecy) / this.ery) : (this.ix = (i - this.wcx) / this.wrx, this.iy = (e - this.wcy) / this.wry);\n  };var n = { enable: a.prototype.enable, disable: a.prototype.disable, updateLayers: a.prototype.updateLayers, calibrate: a.prototype.calibrate, friction: a.prototype.friction, invert: a.prototype.invert, scalar: a.prototype.scalar, limit: a.prototype.limit, origin: a.prototype.origin };T.fn[o] = function (e) {\n    var s = arguments;return this.each(function () {\n      var t = T(this),\n          i = t.data(o);i || (i = new a(this, e), t.data(o, i)), n[e] && i[e].apply(i, Array.prototype.slice.call(s, 1));\n    });\n  };\n}(window.jQuery || window.Zepto, window, document);"],"file":"index.js"}